<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.example.demo.dao.LoginDao">

	<insert id="RegistUsr" parameterType="amp">
	insert into mb_mbr_mgmt(user_id,pwd,mbr_nm,mbr_token,reg_dtime) values(#{user_id},#{pwd},#{mbr_nm},#{mbr_token},now())
	</insert>
 
	
	<select id="SelectUsr" resultType="map">
        SELECT user_id,mbr_nm,mbr_token
        FROM mb_mbr_mgmt
        WHERE
        <if test="user_id!=null and pwd != null">
        	user_id = #{user_id} and pwd = #{pwd}
        </if>
        <if test="access_token">
        	mbr_token = #{access_token}
        </if>
    </select>
 
</mapper>